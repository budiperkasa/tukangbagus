/*
* Hammer.JS
* version 0.6.4
* author: Eight Media
* https://github.com/EightMedia/hammer.js
* Licensed under the MIT license.
*/
function Hammer(o,w,l){var h=this;var C={prevent_default:false,not_prevent_tags:{id:[],className:[],tagName:[]},css_hacks:true,swipe:true,swipe_time:200,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500};w=F(C,w);(function(){if(!w.css_hacks){return false}var U=["webkit","moz","ms","o",""];var R={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var T="";for(var Q=0;Q<U.length;Q++){for(var S in R){T=S;if(U[Q]){T=U[Q]+T.substring(0,1).toUpperCase()+T.substring(1)}o.style[T]=R[S]}}})();var L=0;var v=0;var M=0;var A={};var N=0;var k=false;var f=null;var e=null;var u=null;var E={x:0,y:0};var c=null;var D=null;var O={};var b=false;var j;var d;var B;var J=("ontouchstart" in window);var t=false;this.option=function(Q,R){if(R!==l){w[Q]=R}return w[Q]};this.getDirectionFromAngle=function(S){var T={down:S>=45&&S<135,left:S>=135||S<=-135,up:S<-45&&S>-135,right:S>=-45&&S<=45};var R,Q;for(Q in T){if(T[Q]){R=Q;break}}return R};this.destroy=function(){if(J){a(o,"touchstart touchmove touchend touchcancel",y)}else{a(o,"mouseup mousedown mousemove",y);a(o,"mouseout",s)}};function x(Q){return Q.touches?Q.touches.length:1}function P(T){T=T||window.event;if(!J){var U=document,R=U.body;return[{x:T.pageX||T.clientX+(U&&U.scrollLeft||R&&R.scrollLeft||0)-(U&&U.clientLeft||R&&U.clientLeft||0),y:T.pageY||T.clientY+(U&&U.scrollTop||R&&R.scrollTop||0)-(U&&U.clientTop||R&&U.clientTop||0)}]}else{var W=[],V;for(var S=0,Q=T.touches.length;S<Q;S++){V=T.touches[S];W.push({x:V.pageX,y:V.pageY})}return W}}function p(R,Q){return Math.atan2(Q.y-R.y,Q.x-R.x)*180/Math.PI}function n(S,R){var Q=R.x-S.x,T=R.y-S.y;return Math.sqrt((Q*Q)+(T*T))}function q(Q,R){if(Q.length==2&&R.length==2){var S=n(Q[0],Q[1]);var T=n(R[0],R[1]);return T/S}return 0}function m(R,S){if(R.length==2&&S.length==2){var T=p(R[1],R[0]);var Q=p(S[1],S[0]);return Q-T}return 0}function K(Q,R){R.touches=P(R.originalEvent);R.type=Q;if(r(h["on"+Q])){h["on"+Q].call(h,R)}}function G(Q){Q=Q||window.event;if(Q.preventDefault){for(i=0;i<w.not_prevent_tags.className.length-1;i++){if(Q.target.className==w.not_prevent_tags.className[i]){return}}for(i=0;i<w.not_prevent_tags.tagName.length-1;i++){if(Q.target.tagName==w.not_prevent_tags.tagName[i]){return}}for(i=0;i<w.not_prevent_tags.id.length-1;i++){if(Q.target.id==w.not_prevent_tags.id[i]){return}}if(x(Q)==2){return}Q.preventDefault();Q.stopPropagation()}else{Q.returnValue=false;Q.cancelBubble=true}}function H(){A={};k=false;N=0;L=0;v=0;f=null}var z={hold:function(Q){if(w.hold){f="hold";clearTimeout(D);D=setTimeout(function(){if(f=="hold"){K("hold",{originalEvent:Q,position:A.start})}},w.hold_timeout)}},swipe:function(W){if(!A.move||f==="transform"){return}var U=A.move[0].x-A.start[0].x;var T=A.move[0].y-A.start[0].y;L=Math.sqrt(U*U+T*T);var S=new Date().getTime();var V=S-u;if(w.swipe&&(w.swipe_time>V)&&(L>w.swipe_min_distance)){v=p(A.start[0],A.move[0]);M=h.getDirectionFromAngle(v);f="swipe";var R={x:A.move[0].x-O.left,y:A.move[0].y-O.top};var Q={originalEvent:W,position:R,direction:M,distance:L,distanceX:U,distanceY:T,angle:v};K("swipe",Q)}},drag:function(V){var T=A.move[0].x-A.start[0].x;var S=A.move[0].y-A.start[0].y;L=Math.sqrt(T*T+S*S);if(w.drag&&(L>w.drag_min_distance)||f=="drag"){v=p(A.start[0],A.move[0]);M=h.getDirectionFromAngle(v);var U=(M=="up"||M=="down");if(((U&&!w.drag_vertical)||(!U&&!w.drag_horizontal))&&(L>w.drag_min_distance)){return}f="drag";var R={x:A.move[0].x-O.left,y:A.move[0].y-O.top};var Q={originalEvent:V,position:R,direction:M,distance:L,distanceX:T,distanceY:S,angle:v};if(k){K("dragstart",Q);k=false}K("drag",Q);G(V)}},transform:function(V){if(w.transform){var U=x(V);if(U!==2){return false}var T=m(A.start,A.move);var W=q(A.start,A.move);if(f==="transform"||Math.abs(1-W)>w.scale_treshold||Math.abs(T)>w.rotation_treshold){f="transform";A.center={x:((A.move[0].x+A.move[1].x)/2)-O.left,y:((A.move[0].y+A.move[1].y)/2)-O.top};if(k){A.startCenter=A.center}var S=A.center.x-A.startCenter.x;var R=A.center.y-A.startCenter.y;L=Math.sqrt(S*S+R*R);var Q={originalEvent:V,position:A.center,scale:W,rotation:T,distance:L,distanceX:S,distanceY:R};if(k){K("transformstart",Q);k=false}K("transform",Q);G(V);return true}}return false},tap:function(U){var R=new Date().getTime();var T=R-u;if(w.hold&&!(w.hold&&w.hold_timeout>T)){return}var S=(function(){if(E&&w.tap_double&&e=="tap"&&A.start&&(u-c)<w.tap_max_interval){var X=Math.abs(E[0].x-A.start[0].x);var W=Math.abs(E[0].y-A.start[0].y);return(E&&A.start&&Math.max(X,W)<w.tap_double_distance)}return false})();if(S){f="double_tap";c=null;K("doubletap",{originalEvent:U,position:A.start});G(U)}else{var V=(A.move)?Math.abs(A.move[0].x-A.start[0].x):0;var Q=(A.move)?Math.abs(A.move[0].y-A.start[0].y):0;L=Math.max(V,Q);if(L<w.tap_max_distance){f="tap";c=R;E=A.start;if(w.tap){K("tap",{originalEvent:U,position:A.start});G(U)}}}}};function y(U){var T;switch(U.type){case"mousedown":case"touchstart":T=x(U);t=T===1;if(T===2&&f==="drag"){K("dragend",{originalEvent:U,direction:M,distance:L,angle:v})}S();if(w.prevent_default){G(U)}break;case"mousemove":case"touchmove":T=x(U);if(!b&&T===1){return false}else{if(!b&&T===2){t=false;H();S()}}d=U;A.move=P(U);if(!z.transform(U)){z.drag(U)}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":var V=true;b=false;B=U;z.swipe(U);if(f=="drag"){K("dragend",{originalEvent:U,direction:M,distance:L,angle:v})}else{if(f=="transform"){var R=A.center.x-A.startCenter.x;var Q=A.center.y-A.startCenter.y;K("transformend",{originalEvent:U,position:A.center,scale:q(A.start,A.move),rotation:m(A.start,A.move),distance:L,distanceX:R,distanceY:Q});if(x(U)===1){H();S();V=false}}else{if(t){z.tap(j)}}}e=f;K("release",{originalEvent:U,gesture:f,position:A.move||A.start});if(V){H()}break}function S(){A.start=P(U);u=new Date().getTime();N=x(U);k=true;j=U;var W=o.getBoundingClientRect();var aa=o.clientTop||document.body.clientTop||0;var Z=o.clientLeft||document.body.clientLeft||0;var X=window.pageYOffset||o.scrollTop||document.body.scrollTop;var Y=window.pageXOffset||o.scrollLeft||document.body.scrollLeft;O={top:W.top+X-aa,left:W.left+Y-Z};b=true;z.hold(U)}}function s(Q){if(!I(o,Q.relatedTarget)){y(Q)}}if(J){g(o,"touchstart touchmove touchend touchcancel",y)}else{g(o,"mouseup mousedown mousemove",y);g(o,"mouseout",s)}function I(Q,S){if(!S&&window.event&&window.event.toElement){S=window.event.toElement}if(Q===S){return true}if(S){var R=S.parentNode;while(R!==null){if(R===Q){return true}R=R.parentNode}}return false}function F(S,R){var Q={};if(!R){return S}for(var T in S){if(T in R){Q[T]=R[T]}else{Q[T]=S[T]}}return Q}function r(Q){return Object.prototype.toString.call(Q)=="[object Function]"}function g(T,S,U){S=S.split(" ");for(var R=0,Q=S.length;R<Q;R++){if(T.addEventListener){T.addEventListener(S[R],U,false)}else{if(document.attachEvent){T.attachEvent("on"+S[R],U)}}}}function a(T,S,U){S=S.split(" ");for(var R=0,Q=S.length;R<Q;R++){if(T.removeEventListener){T.removeEventListener(S[R],U,false)}else{if(document.detachEvent){T.detachEvent("on"+S[R],U)}}}}};